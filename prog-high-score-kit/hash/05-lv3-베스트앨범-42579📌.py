# ğŸ“š https://school.programmers.co.kr/learn/courses/30/lessons/42579
"""
ë…¸ë˜ì˜ ì¥ë¥´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìì—´ ë°°ì—´ genresì™€
ë…¸ë˜ë³„ ì¬ìƒ íšŸìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ ë°°ì—´ playsê°€ ì£¼ì–´ì§ˆ ë•Œ,
ë² ìŠ¤íŠ¸ ì•¨ë²”ì— ë“¤ì–´ê°ˆ ë…¸ë˜ì˜ ê³ ìœ  ë²ˆí˜¸ë¥¼ ìˆœì„œëŒ€ë¡œ return

1. ë…¸ë˜ ì¥ë¥´ë³„ ì´ ì¬ìƒ íšŸìˆ˜ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ ë”•ì…”ë„ˆë¦¬ë¥¼ ë§Œë“ ë‹¤. 
(key:ë…¸ë˜ì¥ë¥´, value:ì´ ì¬ìƒíšŸìˆ˜)

2. ë…¸ë˜ ì¥ë¥´ë³„ ì¬ìƒíšŸìˆ˜ì™€ ì¸ë±ìŠ¤ë¥¼ ë”•ì…”ë„ˆë¦¬ë¡œ ë§Œë“ ë‹¤. 
(key:ë…¸ë˜ì¥ë¥´, value:(ì¸ë±ìŠ¤, ì¬ìƒíšŸìˆ˜)) => 3ë²ˆ ì¡°ê±´

3. forë¬¸ìœ¼ë¡œ ì´ì „ì— ë§Œë“  ë”•ì…”ë„ˆë¦¬ì˜ value ê°’ì„ ì±„ìš´ë‹¤.
4. ë…¸ë˜ ì¥ë¥´ë³„ ì´ ì¬ìƒíšŸìˆ˜ë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ì¥ë¥´ì— ëŒ€í•´ 
ì¬ìƒíšŸìˆ˜ê°€ í° 2ê°œì˜ í•­ëª©ì„ ê°€ì ¸ì™€ ì •ë‹µê°’ì— ë°˜í™˜í•œë‹¤.

ì…ë ¥ #1
genres : ["classic", "pop", "classic", "classic", "pop"]
plays  : [500, 600, 150, 800, 2500]

ì¶œë ¥ #1
[4, 1, 3, 0]

cf. enumerate : ì¸ë±ìŠ¤ì™€ ì›ì†Œë¥¼ ë™ì‹œì— ì ‘ê·¼
cf. zip : ë‘ ë°°ì—´ í•©ì¹˜ê¸°
cf. `lambda ë§¤ê°œë³€ìˆ˜ : í‘œí˜„ì‹`
>>> (lambda x, y: x + y)(10, 20)
30
"""


def solution(genres, plays):
    answer = []

    # ë…¸ë˜ ì¥ë¥´ë³„ ì¬ìƒíšŸìˆ˜ ë° ì¸ë±ìŠ¤ ë”•ì…”ë„ˆë¦¬
    top_index = {g: [] for g in genres}
    # ë…¸ë˜ ì¥ë¥´ë³„ ì´ ì¬ìƒ íšŸìˆ˜ ë”•ì…”ë„ˆë¦¬
    top_play = {g: 0 for g in genres}

    # ë”•ì…”ë„ˆë¦¬ì˜ value ê°’ì„ ì±„ì›€
    for i, (g, p) in enumerate(zip(genres, plays)):
        top_play[g] += p
        top_index[g].append((i, p))

    # ë…¸ë˜ ì¥ë¥´ë³„ ì´ ì¬ìƒ íšŸìˆ˜ë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
    for k, v in sorted(top_play.items(), key=lambda x: x[1], reverse=True):
        # ë…¸ë˜ ì¥ë¥´ì— ëŒ€í•´ ì¬ìƒíšŸìˆ˜ê°€ ë†’ì€ í•­ëª© 2ê°œ ê°€ì ¸ì˜´
        for i, p in sorted(top_index[k], key=lambda x: x[1], reverse=True)[:2]:
            answer.append(i)

    return answer


print(
    solution(
        ["classic", "pop", "classic", "classic", "pop"], [500, 600, 150, 800, 2500]
    )
)
