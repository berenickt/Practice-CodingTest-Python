# ğŸ“š https://school.programmers.co.kr/learn/courses/30/lessons/42895
"""
ì•„ë˜ì™€ ê°™ì´ 5ì™€ ì‚¬ì¹™ì—°ì‚°ë§Œìœ¼ë¡œ 12ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

12 = 5 + 5 + (5 / 5) + (5 / 5)
12 = 55 / 5 + 5 / 5
12 = (55 + 5) / 5

5ë¥¼ ì‚¬ìš©í•œ íšŸìˆ˜ëŠ” ê°ê° 6,5,4 ì…ë‹ˆë‹¤.
ê·¸ë¦¬ê³  ì´ì¤‘ ê°€ì¥ ì‘ì€ ê²½ìš°ëŠ” 4ì…ë‹ˆë‹¤.

ì´ì²˜ëŸ¼ ìˆ«ì Nê³¼ numberê°€ ì£¼ì–´ì§ˆ ë•Œ,
Nê³¼ ì‚¬ì¹™ì—°ì‚°ë§Œ ì‚¬ìš©í•´ì„œ í‘œí˜„ í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì¤‘ N ì‚¬ìš©íšŸìˆ˜ì˜ ìµœì†Ÿê°’ì„ return

ì…ë ¥ #1
N      : 5
number : 12

ì¶œë ¥ #1
4

cf. Nì€ 1 ì´ìƒ 9 ì´í•˜
cf2. ìµœì†Ÿê°’ì´ 8ë³´ë‹¤ í¬ë©´ -1ì„ return

cf. ì‘ì€ ë¬¸ì œë¡œ í° ë¬¸ì œ í•´ê²°í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸
Nì„ 1ê°œ ì‚¬ìš©í•´ì„œ í‘œí˜„í•˜ê¸°
Nì„ 2ê°œ ì‚¬ìš©í•´ì„œ í‘œí˜„í•˜ê¸°
"""


from collections import defaultdict


def solution(N, number):
    # dp[i]: Nì„ ië²ˆ ì‚¬ìš©í•´ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìˆ˜ë“¤ì˜ ì§‘í•©
    dp = defaultdict(set)

    for i in range(1, 9):
        dp[i].add(int(str(N) * i))  # NNN...N
        for j in range(1, i):
            for n1 in dp[j]:
                for n2 in dp[i - j]:
                    dp[i].add(n1 + n2)
                    dp[i].add(n1 - n2)
                    dp[i].add(n1 * n2)
                    if n2 != 0:
                        dp[i].add(n1 // n2)  # 0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŒ

        if number in dp[i]:
            return i  # Nì„ ië²ˆ ì‚¬ìš©í•´ì„œ numberë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ

    return -1  # ìµœì†Ÿê°’ì´ 8ë²ˆë³´ë‹¤ í´ ê²½ìš°


print(solution(5, 12))
