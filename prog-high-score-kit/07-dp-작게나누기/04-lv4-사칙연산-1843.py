# ðŸ“š https://school.programmers.co.kr/learn/courses/30/lessons/1843
"""
ì‚¬ì¹™ì—°ì‚°ì—ì„œ ë”í•˜ê¸°(+)ëŠ” ê²°í•©ë²•ì¹™ì´ ì„±ë¦½í•˜ì§€ë§Œ, 
ë¹¼ê¸°(-)ëŠ” ê²°í•©ë²•ì¹™ì´ ì„±ë¦½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

e.g. ì‹ 1 - 5 - 3ì€ ì—°ì‚° ìˆœì„œì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
((1 - 5) - 3) = -7
(1 - (5 - 3)) = -1

ìœ„ ì˜ˆì‹œì™€ ê°™ì´ ëº„ì…ˆì€ ì—°ì‚° ìˆœì„œì— ë”°ë¼ ê·¸ ê²°ê³¼ê°€ ë°”ë€” ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

e.g. ì‹ 1 - 3 + 5 - 8ì€ ì—°ì‚° ìˆœì„œì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ 5ê°€ì§€ ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤.
(((1 - 3) + 5) - 8) = -5
((1 - (3 + 5)) - 8) = -15
(1 - ((3 + 5) - 8)) = 1
(1 - (3 + (5 - 8))) = 1
((1 - 3) + (5 - 8)) = -5
ìœ„ì™€ ê°™ì´ ì„œë¡œ ë‹¤ë¥¸ ì—°ì‚° ìˆœì„œì˜ ê³„ì‚° ê²°ê³¼ëŠ” [-15, -5, -5, 1, 1]ì´ ë˜ë©°,
ì´ì¤‘ ìµœëŒ“ê°’ì€ 1ìž…ë‹ˆë‹¤.

ë¬¸ìžì—´ í˜•íƒœì˜ ìˆ«ìžì™€, ë”í•˜ê¸° ê¸°í˜¸("+"), ëº„ì…ˆ ê¸°í˜¸("-")ê°€ ë“¤ì–´ìžˆëŠ” ë°°ì—´ arrê°€ 
ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ,
ì„œë¡œ ë‹¤ë¥¸ ì—°ì‚°ìˆœì„œì˜ ê³„ì‚° ê²°ê³¼ ì¤‘ ìµœëŒ“ê°’ì„ return

ìž…ë ¥ #1
["1", "-", "3", "+", "5", "-", "8"]

ì¶œë ¥ #1
1
"""


def solution(arr):
    minmax = [0, 0]
    sum_value = 0

    for idx in range(len(arr) - 1, -1, -1):
        if arr[idx] == "+":
            continue
        elif arr[idx] == "-":
            tempmin, tempmax = minmax
            minmax[0] = min(-(sum_value + tempmax), -sum_value + tempmin)
            # -(sum + max):-ê°€ ì‹ì „ì²´ì— ë¶™ëŠ” ê²½ìš°, -sum+min:-ê°€ ì´ì „ -ê°’ ì•žê¹Œì§€ë§Œ ë¶™ëŠ” ê²½ìš°
            minus_v = int(arr[idx + 1])
            minmax[1] = max(
                -(sum_value + tempmin), -minus_v + (sum_value - minus_v) + tempmax
            )
            # -(sum + min):-ê°€ ì‹ì „ì²´ì— ë¶™ëŠ” ê²½ìš°, -v+(sum-v)+max:-ê°€ ë°”ë¡œ ë’¤ì˜ ê°’ì—ë§Œ ë¶™ëŠ” ê²½ìš°
            sum_value = 0
        elif int(arr[idx]) >= 0:
            sum_value += int(arr[idx])
    minmax[1] += sum_value
    return minmax[1]


print(solution(["1", "-", "3", "+", "5", "-", "8"]))
