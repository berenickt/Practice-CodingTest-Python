# ğŸ’¡ Nê³¼ M (12) ğŸ“š https://www.acmicpc.net/problem/15666
import sys

# ì‚¬ìš©ìë¡œë¶€í„° nê³¼ mì„ ì…ë ¥ë°›ìŒ
n, m = map(int, input().split())

# ì‚¬ìš©ìë¡œë¶€í„° nê°œì˜ ìˆ«ìë¥¼ ì…ë ¥ë°›ì•„ num ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
num = list(map(int, input().split()))

# num ë¦¬ìŠ¤íŠ¸ë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
num.sort()

# c ë°°ì—´ì„ n í¬ê¸°ë¡œ ìƒì„±í•˜ê³  ëª¨ë‘ Falseë¡œ ì´ˆê¸°í™”
c = [False] * n

# a ë°°ì—´ì„ m í¬ê¸°ë¡œ ìƒì„±í•˜ê³  ëª¨ë‘ 0ìœ¼ë¡œ ì´ˆê¸°í™”
a = [0] * m

# d ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±
d = []


# ì¬ê·€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ a ë°°ì—´ì„ ì±„ì›Œë‚˜ê°€ëŠ” í•¨ìˆ˜
def go(index, start, n, m):
    # ë§Œì•½ indexê°€ mê³¼ ê°™ë‹¤ë©´, a ë°°ì—´ì„ ê¸°ë°˜ìœ¼ë¡œ d ë¦¬ìŠ¤íŠ¸ì— íŠœí”Œì„ ì¶”ê°€
    if index == m:
        d.append(tuple(a))  # d ë¦¬ìŠ¤íŠ¸ì— íŠœí”Œì„ ì¶”ê°€
        return
    # startë¶€í„° nê¹Œì§€ ë°˜ë³µ
    for i in range(start, n):
        c[i] = True  # c[i]ë¥¼ Trueë¡œ ì„¤ì •í•˜ê³ , a[index]ì— num[i]ë¥¼ ì €ì¥
        a[index] = num[i]  # a ë°°ì—´ì˜ index ìœ„ì¹˜ì— num[i]ë¥¼ ì €ì¥
        go(index + 1, i, n, m)  # ë‹¤ìŒ ì¸ë±ìŠ¤ì—ì„œ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œ
        c[i] = False  # c[i]ë¥¼ Falseë¡œ ë‹¤ì‹œ ì„¤ì •í•˜ì—¬ ë‹¤ìŒ í˜¸ì¶œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•¨


# ì²« ë²ˆì§¸ ì¸ë±ìŠ¤ì—ì„œ go í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ a ë°°ì—´ì„ ì±„ì›Œë‚˜ê°
go(0, 0, n, m)

# d ë¦¬ìŠ¤íŠ¸ì—ì„œ ì¤‘ë³µëœ ìš”ì†Œë¥¼ ì œê±°í•˜ê³ , ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬
d = sorted(list(set(d)))

# d ë¦¬ìŠ¤íŠ¸ì˜ ê° ìš”ì†Œë¥¼ ì¶œë ¥
for v in d:
    # ê° ìš”ì†Œë¥¼ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì¶œë ¥
    sys.stdout.write(" ".join(map(str, v)) + "\n")
