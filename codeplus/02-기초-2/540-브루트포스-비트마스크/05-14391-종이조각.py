# ğŸ’¡ ì¢…ì´ ì¡°ê° ğŸ“š https://www.acmicpc.net/problem/14391
# ì…ë ¥: í–‰ê³¼ ì—´ì˜ í¬ê¸° n, m
n, m = map(int, input().split())

# ì…ë ¥: nê°œì˜ í–‰ì— ê°ê° mê°œì˜ ìˆ«ìë¥¼ ê°€ì§€ëŠ” ì´ì°¨ì› ë¦¬ìŠ¤íŠ¸ a
a = [list(map(int, list(input()))) for _ in range(n)]

# ê²°ê³¼ë¥¼ ì €ì¥í•  ë³€ìˆ˜
ans = 0

# ëª¨ë“  ê°€ëŠ¥í•œ ë¹„íŠ¸ë§ˆìŠ¤í¬ ì¡°í•©ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•œ ë°˜ë³µë¬¸
for s in range(1 << (n * m)):
    sum = 0  # í˜„ì¬ ë¹„íŠ¸ë§ˆìŠ¤í¬ ì¡°í•©ì—ì„œì˜ ìˆ«ì í•©ì„ ì €ì¥í•  ë³€ìˆ˜

    # ê°€ë¡œ ë°©í–¥ìœ¼ë¡œ ìˆ«ìë¥¼ í•©ì‚°
    for i in range(n):
        cur = 0
        for j in range(m):
            # ì´ì°¨ì› ë¦¬ìŠ¤íŠ¸ë¥¼ ì¼ì°¨ì›ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì¸ë±ìŠ¤ ê³„ì‚°
            k = i * m + j
            # í˜„ì¬ ë¹„íŠ¸ê°€ 0ì¸ ê²½ìš° ìˆ«ìë¥¼ ê³„ì† ë”í•¨
            if (s & (1 << k)) == 0:
                cur = cur * 10 + a[i][j]
            else:
                # í˜„ì¬ ë¹„íŠ¸ê°€ 1ì¸ ê²½ìš° ìˆ«ì í•©ì„ ê°±ì‹ í•˜ê³  cur ì´ˆê¸°í™”
                sum += cur
                cur = 0
        # ê°€ë¡œ ë°©í–¥ìœ¼ë¡œ ìˆ«ì í•©ì‚° ì™„ë£Œ
        sum += cur

    # ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ìˆ«ìë¥¼ í•©ì‚°
    for j in range(m):
        cur = 0
        for i in range(n):
            # ì´ì°¨ì› ë¦¬ìŠ¤íŠ¸ë¥¼ ì¼ì°¨ì›ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì¸ë±ìŠ¤ ê³„ì‚°
            k = i * m + j
            if (s & (1 << k)) != 0:
                # í˜„ì¬ ë¹„íŠ¸ê°€ 1ì¸ ê²½ìš° ìˆ«ìë¥¼ ê³„ì† ë”í•¨
                cur = cur * 10 + a[i][j]
            else:
                # í˜„ì¬ ë¹„íŠ¸ê°€ 0ì¸ ê²½ìš° ìˆ«ì í•©ì„ ê°±ì‹ í•˜ê³  cur ì´ˆê¸°í™”
                sum += cur
                cur = 0
        sum += cur  # ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ìˆ«ì í•©ì‚° ì™„ë£Œ

    # í˜„ì¬ ì¡°í•©ì—ì„œì˜ ìˆ«ì í•©ì„ ìµœëŒ€ê°’ê³¼ ë¹„êµí•˜ì—¬ ê°±ì‹ 
    ans = max(ans, sum)

print(ans)  # ìµœëŒ€ ìˆ«ì í•© ì¶œë ¥
