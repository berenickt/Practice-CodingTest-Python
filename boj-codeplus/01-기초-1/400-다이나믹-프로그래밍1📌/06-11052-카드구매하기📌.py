# ğŸ’¡ ì¹´ë“œ êµ¬ë§¤í•˜ê¸° ğŸ“š https://www.acmicpc.net/problem/11052
"""
ì‘ì€ ë¬¸ì œë¶€í„° ìƒê°
dp[i] = ì¹´ë“œ iê°œ êµ¬ë§¤í•˜ëŠ” ìµœëŒ€ ê°€ê²©
price[k] = kê°œê°€ ë“¤ì–´ìˆëŠ” ì¹´ë“œíŒ© ê°€ê²©
ì¹´ë“œë¥¼ iê°œ êµ¬ë§¤í•˜ëŠ” ìµœëŒ€ ë¹„ìš©
p[1] + dp[i-1]
p[2] + dp[i-2]
...
p[i] + dp[0]

ë”°ë¼ì„œ ì í™”ì‹ì€ dp[i] = p[k] + dp[i - k]

ì…ë ¥
4          ===> ì‚¬ë ¤ê³ í•˜ëŠ” ì¹´ë“œ ê°œìˆ˜
1 5 6 7    ===> P_1 = 1, P_2 = 5, P_3 = 5, P_4 = 7, ê°€ê²© ë¦¬ìŠ¤íŠ¸

ì¶œë ¥
10
"""
numOfCardPack = int(input())

# ë¦¬ìŠ¤íŠ¸ aì— 0ì„ ì¶”ê°€í•˜ê³ , ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ë°›ì€ ìˆ«ìë“¤ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥
price = [0] + list(map(int, input().split()))  # e.g.1) [0, 1, 5, 6, 7]

# ê° ìœ„ì¹˜ì—ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ê°’ì„ ì €ì¥í•  ë°°ì—´ dpë¥¼ ì´ˆê¸°í™”
dp = [0] * (numOfCardPack + 1)

# ë°”í…€ì—…(DP) ë°©ì‹ìœ¼ë¡œ ìµœëŒ€ ê°€ê²©ì„ ê³„ì‚°
for i in range(1, numOfCardPack + 1):
    for j in range(1, i + 1):
        dp[i] = max(dp[i], dp[i - j] + price[j])

# në²ˆì§¸ ìœ„ì¹˜ì—ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ê°’ì„ ì¶œë ¥
print(dp[numOfCardPack])
