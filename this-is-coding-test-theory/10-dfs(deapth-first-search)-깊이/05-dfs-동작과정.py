"""
DFSμ κµ¬μ²΄μ μΈ λ™μ‘ κ³Όμ •μ€ λ‹¤μκ³Ό κ°™λ‹¤.
1. νƒμƒ‰ μ‹μ‘ λ…Έλ“λ¥Ό μ¤νƒμ— μ‚½μ…ν•κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.
2. μ¤νƒμ μµμƒλ‹¨ λ…Έλ“μ— λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μμΌλ©΄ κ·Έ μΈμ ‘ λ…Έλ“λ¥Ό μ¤νƒμ— λ„£κ³  λ°©λ¬Έ μ²λ¦¬λ¥Ό ν•λ‹¤.
    λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ λ…Έλ“κ°€ μ—†μΌλ©΄ μ¤νƒμ—μ„ μµμƒλ‹¨ λ…Έλ“λ¥Ό κΊΌλ‚Έλ‹¤.
3. 2λ²μ κ³Όμ •μ„ λ” μ΄μƒ μν–‰ν•  μ μ—†μ„ λ•κΉμ§€ λ°λ³µν•λ‹¤.
    λ°©λ¬Έμ²λ¦¬(visited)λ€ μ¤νƒμ— ν• λ² μ‚½μ…λμ–΄ μ²λ¦¬λ λ…Έλ“κ°€ λ‹¤μ‹ μ‚½μ…λμ§€ μ•κ² μ²΄ν¬ν•λ”κ²ƒμ„ μλ―Έν•λ‹¤. 
    λ°©λ¬Έμ²λ¦¬λ¥Ό ν•¨μΌλ΅μ¨ κ° λ…Έλ“λ¥Ό ν• λ²μ”©λ§ μ²λ¦¬ ν•  μ μλ‹¤.

κΉμ΄ μ°μ„  νƒμƒ‰ μ•κ³ λ¦¬μ¦μΈ DFSλ” μ¤νƒ μλ£κµ¬μ΅°μ— κΈ°μ΄ν•λ‹¤λ” μ μ—μ„ κµ¬ν„μ΄ κ°„λ‹¨ν•λ‹¤.
νƒμƒ‰μ„ μν–‰ν•¨μ— μμ–΄μ„ λ°μ΄ν„°μ κ°μκ°€ Nκ°μΈ κ²½μ° O(N)μ μ‹κ°„μ΄ μ†μ”λλ‹¤.

μ‹¤μ λ΅ μ¤νƒμ„ μ“°μ§€ μ•κ³ ,
μ¬κ·€ ν•¨μλ¥Ό μ΄μ©ν–μ„ λ• λ§¤μ° κ°„κ²°ν•κ² κµ¬ν„ν•  μ μλ‹¤.
"""


# DFS λ©”μ„λ“ μ •μ
def dfs(graph, v, visited):
    # ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬
    visited[v] = True
    # ν„μ¬ λ°©λ¬Έν• λ…Έλ“ μ¶λ ¥
    print(v, end=" ")
    # ν„μ¬ λ…Έλ“μ™€ μ—°κ²°λ λ‹¤λ¥Έ λ…Έλ“λ¥Ό μ¬κ·€μ μΌλ΅ λ°©λ¬Έ
    for i in graph[v]:
        # λ§μ•½ μ—°κ²°λ λ…Έλ“κ°€ μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“λΌλ©΄, κ·Έ λ…Έλ“μ— λ€ν•΄ dfs ν•¨μλ¥Ό μ¬κ·€μ μΌλ΅ νΈμ¶
        if not visited[i]:
            dfs(graph, i, visited)


# κ° λ…Έλ“κ°€ μ—°κ²°λ μ •λ³΄λ¥Ό λ¦¬μ¤νΈ μλ£ν•μΌλ΅ ν‘ν„(2μ°¨μ› λ¦¬μ¤νΈ)
graph = [[], [2, 3, 8], [1, 7], [1, 4, 5], [3, 5], [3, 4], [7], [2, 6, 8], [1, 7]]
"""
μ—¬κΈ°μ„ κ° μ«μλ” λ…Έλ“λ¥Ό λ‚νƒ€λ‚΄λ©°, 
λ…Έλ“λ“¤ μ‚¬μ΄μ μ„ μ€ λ…Έλ“λ“¤μ΄ μ„λ΅ μ—°κ²°λμ–΄ μμμ„ λ‚νƒ€λƒ…λ‹λ‹¤. 

e.g. λ…Έλ“ 1μ€ λ…Έλ“ 2, 3, 8κ³Ό μ—°κ²°λμ–΄ μμµλ‹λ‹¤. 
μ΄λ” graph[1] = [2, 3, 8]μΌλ΅ ν‘ν„λμ–΄ μμµλ‹λ‹¤

e.g., λ…Έλ“ 2μ€ λ…Έλ“ 1, 7κ³Ό μ—°κ²°λμ–΄ μμµλ‹λ‹¤.  graph[2] = [1, 7]
e.g., λ…Έλ“ 3μ€ λ…Έλ“ 1, 4, 5κ³Ό μ—°κ²°λμ–΄ μμµλ‹λ‹¤.  graph[3] = [1, 4, 5]
...
"""


# κ° λ…Έλ“κ°€ λ°©λ¬Έλ μ •λ³΄λ¥Ό λ¦¬μ¤νΈ μλ£ν•μΌλ΅ ν‘ν„(1μ°¨μ› λ¦¬μ¤νΈ)
visited = [False] * 9

# μ •μλ DFS ν•¨μ νΈμ¶
dfs(graph, 1, visited)
# π‘‰π½ 1 2 7 6 8 3 4 5

"""
μ•„λλ” μ½”λ“κ°€ μ‹¤ν–‰λλ” λ™μ• visitedκ°€ μ–΄λ–»κ² λ³€ν•λ”μ§€μ— λ€ν• μ„¤λ…μ…λ‹λ‹¤.

1. μ΄κΈ° μƒνƒ:
- graph: [[], [2, 3, 8], [1, 7], [1, 4, 5], [3, 5], [3, 4], [7], [2, 6, 8], [1, 7]]
- visited: [F, F, F, F, F, F, F, F, F]

2. dfs(graph, 1, visited) νΈμ¶ ν›„:
- visited: [F, T, F, F, F, F, F, F, F]
- μ¶λ ¥: 1

3. dfs(graph, 2, visited) νΈμ¶ ν›„:
- visited: [F, T, T, F, F, F, F, F, F]
- μ¶λ ¥: 1 2

4. dfs(graph, 7, visited) νΈμ¶ ν›„:
- visited: [F, T, T, F, F, F, F, T, F]
- μ¶λ ¥: 1 2 7

5. dfs(graph, 6, visited) νΈμ¶ ν›„:
- visited: [F, T, T, F, F, F, T, T, F]
- μ¶λ ¥: 1 2 7 6

6. dfs(graph, 8, visited) νΈμ¶ ν›„:
- visited: [F, T, T, F, F, F, T, T, T]
- μ¶λ ¥: 1 2 7 6 8

7. dfs(graph, 3, visited) νΈμ¶ ν›„:
- visited: [F, T, T, T, F, F, T, T, T]
- μ¶λ ¥: 1 2 7 6 8 3

8. dfs(graph, 4, visited) νΈμ¶ ν›„:
- visited: [F, T, T, T, T, F, T, T, T]
- μ¶λ ¥: 1 2 7 6 8 3 4

9. dfs(graph, 5, visited) νΈμ¶ ν›„:
- visited: [F, T, T, T, T, T, T, T, T]
- μ¶λ ¥: 1 2 7 6 8 3 4 5

μ΄λ ‡κ² λ¨λ“  λ…Έλ“λ¥Ό λ°©λ¬Έν•κ² λλ©΄ visited λ¦¬μ¤νΈλ” λ¨λ‘ Tκ°€ λκ³ , μ¶λ ¥μ€ 1 2 7 6 8 3 4 5κ°€ λ©λ‹λ‹¤.
"""
