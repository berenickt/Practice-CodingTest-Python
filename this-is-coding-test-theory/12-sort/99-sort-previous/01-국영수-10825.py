# ğŸ“š https://www.acmicpc.net/problem/10825
n = int(input())
students = []  # í•™ìƒ ì •ë³´ë¥¼ ë‹´ì„ ë¦¬ìŠ¤íŠ¸

# ëª¨ë“  í•™ìƒ ì •ë³´ë¥¼ ì…ë ¥ ë°›ê¸°
for _ in range(n):
    students.append(input().split())

"""
[ ì •ë ¬ ê¸°ì¤€ ]
1) ë‘ ë²ˆì§¸ ì›ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
2) ë‘ ë²ˆì§¸ ì›ì†Œê°€ ê°™ì€ ê²½ìš°, ì„¸ ë²ˆì§¸ ì›ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
3) ì„¸ ë²ˆì§¸ ì›ì†Œê°€ ê°™ì€ ê²½ìš°, ë„¤ ë²ˆì§¸ ì›ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
4) ë„¤ ë²ˆì§¸ ì›ì†Œê°€ ê°™ì€ ê²½ìš°, ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
"""
students.sort(key=lambda x: (-int(x[1]), int(x[2]), -int(x[3]), x[0]))

# ì •ë ¬ëœ í•™ìƒ ì •ë³´ì—ì„œ ì´ë¦„ë§Œ ì¶œë ¥
for student in students:
    print(student[0])
